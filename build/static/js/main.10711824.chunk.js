(this["webpackJsonpsales-sheet-frontend"]=this["webpackJsonpsales-sheet-frontend"]||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(7),l=n.n(a),o=(n(12),n(4)),s=n(2);var i=n(0),d=function(e){var t=e.sale,n=e.setSalesEntries,c=e.salesEntries,a=Object(r.useState)(t.card_id),l=Object(s.a)(a,2),d=l[0],u=l[1],b=Object(r.useState)(!1),j=Object(s.a)(b,2),h=j[0],p=j[1];function m(e){(function(e,t){var n=new URL("http://54.162.228.225/sales/".concat(e));return fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({card_id:t})}).then((function(e){return e.text()})).then((function(e){return e})).catch((function(e){return console.log("Error:",e)}))})(e,d).then((function(e){return console.log(e)}));var t=Object(o.a)(c).map((function(t){return t.id===e&&(t.card_id=d),t}));console.log(t),n(t),p(!1)}function x(e){(function(e){var t=new URL("http://54.162.228.225/sales/".concat(e));return fetch(t,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"}).then((function(e){return e.text()})).then((function(e){return e})).catch((function(e){return console.log("Error:",e)}))})(e).then((function(e){return console.log(e)}));var t=Object(o.a)(c).filter((function(t){return t.id!==e}));n(t)}return Object(i.jsx)(i.Fragment,{children:h?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("label",{className:"block",children:"Card Id"}),Object(i.jsx)("input",{type:"text",value:d,onChange:function(e){u(e.target.value)}}),Object(i.jsx)("label",{className:"block",children:"date"}),Object(i.jsx)("input",{type:"date",value:t.date}),Object(i.jsx)("label",{className:"block",children:"Amount"}),Object(i.jsx)("input",{type:"text",value:t.amount_paid}),Object(i.jsx)("button",{onClick:function(){p(!1),u(t.card_id)},className:"block my-2 min-w-full bg-purple-300 text-purple-600 font-normal hover:bg-purple-200 duration-100 hover:text-purple-800 rounded-md px-2 py-1 shadow-2xl",children:"Cancel"}),Object(i.jsx)("button",{onClick:function(){m(t.id)},className:"block my-2 min-w-full bg-purple-300 text-purple-600 font-normal hover:bg-purple-200 duration-100 hover:text-purple-800 rounded-md px-2 py-1 shadow-2xl",children:"Save Changes"})]}):Object(i.jsxs)("tr",{className:"bg-yellow-200",children:[Object(i.jsx)("td",{className:"border border-green-600",children:t.card_id}),Object(i.jsx)("td",{className:"border border-green-600",children:t.sales_rep_id}),Object(i.jsx)("td",{className:"border border-green-600",children:t.date?new Date(t.date).toLocaleString():(new Date).toLocaleString()}),Object(i.jsx)("td",{className:"border border-green-600",children:t.amount_paid}),Object(i.jsx)("td",{onClick:function(){return x(t.id)},style:{cursor:"pointer"},children:"\u2715"}),Object(i.jsx)("td",{onClick:function(){return p(!0)},style:{cursor:"pointer"},children:"\u270d"})]})})},u=function(e){var t=e.sales,n=e.setSalesEntries,r=e.salesEntries;return Object(i.jsx)(i.Fragment,{children:t&&Object(i.jsxs)("table",{className:"w-full my-2 table-auto bg-green-200 border-collapse border-2 border-green-800",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"border border-green-600",children:"Card ID"}),Object(i.jsx)("th",{className:"border border-green-600",children:"Sales Rep ID"}),Object(i.jsx)("th",{className:"border border-green-600",children:"Date"}),Object(i.jsx)("th",{className:"border border-green-600",children:"Amount"}),Object(i.jsx)("th",{className:"border border-green-600",children:"Delete"}),Object(i.jsx)("th",{className:"border border-green-600",children:"Edit"})]})}),Object(i.jsx)("tbody",{children:t.length?t.map((function(e){return Object(i.jsx)(d,{sale:e,setSalesEntries:n,salesEntries:r},e.id)})):Object(i.jsx)("tr",{children:Object(i.jsx)("td",{className:"text-center",children:"No sales"})})})]})})};var b=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(),l=Object(s.a)(a,2),d=l[0],b=l[1],j=Object(r.useState)(),h=Object(s.a)(j,2),p=h[0],m=h[1],x=Object(r.useState)(),f=Object(s.a)(x,2),O=f[0],g=f[1];return Object(i.jsx)("div",{className:"h-screen bg-blue-100",children:Object(i.jsxs)("div",{className:"w-full max-w-screen-md mx-auto rounded-sm shadow-xl h-full",children:[Object(i.jsx)("h1",{className:"font-sans text-2xl font-medium text-gray-500 text-center",children:"Sales Summary"}),Object(i.jsx)("label",{className:"block",children:"Card Id"}),Object(i.jsx)("input",{type:"text",value:d,onChange:function(e){return b(e.target.value)}}),Object(i.jsx)("label",{className:"block",children:"Date"}),Object(i.jsx)("input",{className:"block mb-2",type:"date",value:p,onChange:function(e){return m(e.target.value.split("/").reverse().join("-"))}}),Object(i.jsx)("label",{className:"block",children:"Amount"}),Object(i.jsx)("input",{className:"block mb-2",type:"number",value:O,onChange:function(e){return g(e.target.value)}}),Object(i.jsx)("button",{onClick:function(){(function(e,t){var n=new URL("http://54.162.228.225/sales"),r={cardId:e,date:t};return Object.keys(r).forEach((function(e){r[e]&&n.searchParams.append(e,r[e])})),fetch(n).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("Error:",e)}))})(d,p).then((function(e){return c(e)})).catch((function(e){return console.log("From App.js METHOD = GET: ",e)})),b(""),m("")},className:"min-w-full bg-purple-300 text-purple-600 font-normal hover:bg-purple-200 duration-100 hover:text-purple-800 rounded-md px-2 py-1 shadow-2xl",children:d||p?"Get Sales Summary":"Get All Sales Summary"}),d&&O?Object(i.jsx)("button",{onClick:function(){(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=new URL("http://54.162.228.225/sale");return fetch(c,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:Boolean(r)?JSON.stringify({card_id:e,sales_rep_id:t,date:r,amount_paid:n}):JSON.stringify({card_id:e,sales_rep_id:t,amount_paid:n})}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})).catch((function(e){return console.log("Error:",e)}))})(d,1,O,p).then((function(e){c([].concat(Object(o.a)(n),[e]))})).catch((function(e){return console.log("From App.js METHOD = POST",e)})),b(""),m(""),g("")},className:"block my-2 min-w-full bg-purple-300 text-purple-600 font-normal hover:bg-purple-200 duration-100 hover:text-purple-800 rounded-md px-2 py-1 shadow-2xl",children:"Add Sales Entry"}):Object(i.jsx)("button",{disabled:!0,style:{cursor:"not-allowed"},className:"opacity-40 block my-2 min-w-full bg-purple-300 text-purple-600 font-normal rounded-md px-2 py-1 shadow-2xl",children:"Add Sales Entry"}),Object(i.jsx)(u,{sales:n,salesEntries:n,setSalesEntries:c})]})})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),r(e),c(e),a(e),l(e)}))};l.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(b,{})}),document.getElementById("root")),j()}},[[14,1,2]]]);
//# sourceMappingURL=main.10711824.chunk.js.map