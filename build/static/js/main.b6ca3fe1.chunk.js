(this["webpackJsonpsales-sheet-frontend"]=this["webpackJsonpsales-sheet-frontend"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(8),c=n.n(o),l=(n(13),n(5)),s=n(2),i=n(3);function d(e,t){var n=new URL("http://54.175.205.131/sales/".concat(e));return fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)}).then((function(e){return e.text()})).then((function(e){return e})).catch((function(e){return console.log("Error:",e)}))}var u=n(0),b=function(e){var t=e.sale,n=e.setSalesEntries,r=e.salesEntries,o=Object(a.useState)(!1),c=Object(s.a)(o,2),b=c[0],p=c[1],j=Object(a.useState)({date:!1,amount_paid:!1}),h=Object(s.a)(j,2),m=h[0],f=h[1],x=Object(a.useState)({date:new Date(t.date).toLocaleDateString().split("/").reverse().join("-"),amount_paid:t.amount_paid}),O=Object(s.a)(x,2),g=O[0],v=O[1];function y(e){(function(e){var t=new URL("http://54.175.205.131/sales/".concat(e));return fetch(t,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"}).then((function(e){return e.text()})).then((function(e){return e})).catch((function(e){return console.log("Error:",e)}))})(e).then((function(e){return console.log(e)}));var t=Object(l.a)(r).filter((function(t){return t.id!==e}));n(t)}return Object(u.jsx)(u.Fragment,{children:b?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{className:"block",children:"date"}),Object(u.jsx)("input",{type:"date",value:g.date,onChange:function(e){f(Object(i.a)(Object(i.a)({},m),{},{date:!0}));var t=e.target.value.split("/").reverse().join("-");v(Object(i.a)(Object(i.a)({},g),{},{date:t}))}}),Object(u.jsx)("label",{className:"block",children:"Amount"}),Object(u.jsx)("input",{type:"text",value:g.amount_paid,onChange:function(e){f(Object(i.a)(Object(i.a)({},m),{},{amount_paid:!0}));var t=e.target.value;v(Object(i.a)(Object(i.a)({},g),{},{amount_paid:t}))}}),Object(u.jsx)("button",{onClick:function(){p(!1),f({amount_paid:!1,date:!1})},className:"block my-2 min-w-full bg-purple-300 text-purple-600 font-normal hover:bg-purple-200 duration-100 hover:text-purple-800 rounded-md px-2 py-1 shadow-2xl",children:"Cancel"}),Object(u.jsx)("button",{onClick:function(){!function(e){var t=Object(l.a)(r).map((function(t){return t.id===e&&m.date&&m.amount_paid?(t.date=g.date,t.amount_paid=g.amount_paid,d(e,{date:g.date,amount_paid:g.amount_paid}).then((function(e){return console.log(e)})),console.log("FE: inside both")):t.id===e&&m.amount_paid?(t.amount_paid=g.amount_paid,d(e,{amount_paid:g.amount_paid}).then((function(e){return console.log(e)})),console.log("FE: inside amount")):t.id===e&&m.date&&(t.date=g.date,d(e,{date:g.date}).then((function(e){return console.log(e)})),console.log("FE: inside date")),t}));console.log(t),f({amount_paid:!1,date:!1}),n(t),p(!1)}(t.id)},className:m.date||m.amount_paid?"block my-2 min-w-full bg-purple-300 text-purple-600 font-normal hover:bg-purple-200 duration-100 hover:text-purple-800 rounded-md px-2 py-1 shadow-2xl":"opacity-40 block my-2 min-w-full bg-purple-300 text-purple-600 font-normal rounded-md px-2 py-1 shadow-2xl",children:"Save Changes"})]}):Object(u.jsxs)("tr",{className:"bg-yellow-200",children:[Object(u.jsx)("td",{className:"border border-green-600",children:t.card_id}),Object(u.jsx)("td",{className:"border border-green-600",children:t.sales_rep_id}),Object(u.jsx)("td",{className:"border border-green-600",children:t.date?new Date(t.date).toLocaleString():(new Date).toLocaleString()}),Object(u.jsx)("td",{className:"border border-green-600",children:t.amount_paid}),Object(u.jsx)("td",{onClick:function(){return y(t.id)},style:{cursor:"pointer"},children:"\u2715"}),Object(u.jsx)("td",{onClick:function(){return p(!0)},style:{cursor:"pointer"},children:"\u270d"})]})})},p=function(e){var t=e.sales,n=e.setSalesEntries,a=e.salesEntries;return Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:"w-full my-2 table-auto bg-green-200 border-collapse border-2 border-green-800",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"border border-green-600",children:"Card ID"}),Object(u.jsx)("th",{className:"border border-green-600",children:"Sales Rep ID"}),Object(u.jsx)("th",{className:"border border-green-600",children:"Date"}),Object(u.jsx)("th",{className:"border border-green-600",children:"Amount"}),Object(u.jsx)("th",{className:"border border-green-600",children:"Delete"}),Object(u.jsx)("th",{className:"border border-green-600",children:"Edit"})]})}),Object(u.jsx)("tbody",{children:t.length?t.map((function(e){return Object(u.jsx)(b,{sale:e,setSalesEntries:n,salesEntries:a},e.id)})):Object(u.jsx)("tr",{children:Object(u.jsx)("td",{className:"text-center",children:"No sales"})})})]})})};var j=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(),c=Object(s.a)(o,2),i=c[0],d=c[1],b=Object(a.useState)(),j=Object(s.a)(b,2),h=j[0],m=j[1],f=Object(a.useState)(),x=Object(s.a)(f,2),O=x[0],g=x[1];return Object(u.jsx)("div",{className:"h-screen bg-blue-100",children:Object(u.jsxs)("div",{className:"w-full max-w-screen-md mx-auto rounded-sm shadow-xl h-full",children:[Object(u.jsx)("h1",{className:"font-sans text-2xl font-medium text-gray-500 text-center",children:"Sales Summary"}),Object(u.jsx)("label",{className:"block",children:"Card Id"}),Object(u.jsx)("input",{type:"text",value:i,onChange:function(e){return d(e.target.value)}}),Object(u.jsx)("label",{className:"block",children:"Date"}),Object(u.jsx)("input",{className:"block mb-2",type:"date",value:h,onChange:function(e){return m(e.target.value.split("/").reverse().join("-"))}}),Object(u.jsx)("label",{className:"block",children:"Amount"}),Object(u.jsx)("input",{className:"block mb-2",type:"number",value:O,onChange:function(e){return g(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){(function(e,t){var n=new URL("http://54.175.205.131/sales"),a={cardId:e,date:t};return Object.keys(a).forEach((function(e){a[e]&&n.searchParams.append(e,a[e])})),fetch(n).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("Error:",e)}))})(i,h).then((function(e){return r(e)})).catch((function(e){return console.log("From App.js METHOD = GET: ",e)})),d(""),m("")},className:"min-w-full bg-purple-300 text-purple-600 font-normal hover:bg-purple-200 duration-100 hover:text-purple-800 rounded-md px-2 py-1 shadow-2xl",children:i||h?"Get Sales Summary":"Get All Sales Summary"}),Object(u.jsx)("button",{onClick:function(){(function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=new URL("http://54.175.205.131/sale");return fetch(r,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:Boolean(a)?JSON.stringify({card_id:e,sales_rep_id:t,date:a,amount_paid:n}):JSON.stringify({card_id:e,sales_rep_id:t,amount_paid:n})}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})).catch((function(e){return console.log("Error:",e)}))})(i,1,O,h).then((function(e){console.log(e),r([].concat(Object(l.a)(n),[e]))})).catch((function(e){return console.log("From App.js METHOD = POST",e)})),d(""),m(""),g("")},className:i&&O?"block my-2 min-w-full bg-purple-300 text-purple-600 font-normal hover:bg-purple-200 duration-100 hover:text-purple-800 rounded-md px-2 py-1 shadow-2xl":"opacity-40 block my-2 min-w-full bg-purple-300 text-purple-600 font-normal rounded-md px-2 py-1 shadow-2xl",children:"Add Sales Entry"}),Object(u.jsx)(p,{sales:n,salesEntries:n,setSalesEntries:r})]})})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(j,{})}),document.getElementById("root")),h()}},[[15,1,2]]]);
//# sourceMappingURL=main.b6ca3fe1.chunk.js.map